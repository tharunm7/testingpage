<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Will you be my Valentine?</title>

<style>
:root{
  --text:#ffffff;
  --muted:rgba(255,255,255,.85);
  --yes:#3be08c;
  --no:#ff4d4d;
  --radius:22px;
}

/* üåÖ Cotton-candy Antarctic sunset */
body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  color:var(--text);
  background:
    linear-gradient(180deg,
      #ffb3d9 0%,
      #ffc6e6 20%,
      #ffd6f2 40%,
      #c7d2ff 60%,
      #9bb7ff 80%,
      #5a7bdc 100%);
  overflow:hidden;
}

.card{
  width:min(920px,92vw);
  padding:32px;
  background:rgba(255,255,255,.12);
  border-radius:var(--radius);
  backdrop-filter:blur(14px);
  position:relative;
}

/* Pages */
.page{
  position:absolute;
  inset:32px;
  opacity:0;
  pointer-events:none;
  transition:opacity .7s ease;
}
.page.active{
  opacity:1;
  pointer-events:auto;
  position:relative;
}

/* Layout */
.layout{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:24px;
  align-items:center;
}
@media(max-width:800px){
  .layout{grid-template-columns:1fr}
}

h1{margin:0 0 8px}
p{color:var(--muted)}

.buttons{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
button{
  border:0;
  border-radius:999px;
  padding:12px 18px;
  font-weight:700;
  cursor:pointer;
}
.yes{background:linear-gradient(#3be08c,#19c778)}
.no{background:linear-gradient(#ff4d4d,#ff2a2a)}

/* Penguin */
.scene{
  display:grid;
  place-items:center;
  background:rgba(255,255,255,.15);
  border-radius:18px;
  padding:16px;
  position:relative;
}
.penguin{
  width:260px;
  transition:transform .4s ease,left 2s ease;
  position:relative;
}
.tensed{
  animation:tensed 1.2s infinite alternate;
}
@keyframes tensed{
  from{transform:rotate(-2deg)}
  to{transform:rotate(2deg) translateY(-6px)}
}
.penguin:hover{
  transform:scale(1.06) rotate(2deg);
}

/* Hearts */
.heart{
  position:fixed;
  left:var(--x);
  top:var(--y);
  font-size:24px;
  pointer-events:none;
  animation:float 900ms ease-out forwards;
}
@keyframes float{
  from{opacity:1;transform:translate(-50%,-50%)}
  to{opacity:0;transform:translate(-50%,-120%)}
}

/* Confetti */
.confetti{
  position:fixed;
  inset:0;
  pointer-events:none;
}
.confetti i{
  position:absolute;
  width:8px;height:14px;
  background:white;
  animation:fall 1400ms ease-in forwards;
}
@keyframes fall{
  from{transform:translateY(-20px);opacity:0}
  to{transform:translateY(110vh) rotate(260deg);opacity:0}
}

/* Pebble */
.pebble{
  position:absolute;
  width:22px;height:16px;
  background:radial-gradient(circle,#fff,#bfc9d9);
  border-radius:50%;
  box-shadow:0 0 12px rgba(255,255,255,.9);
  animation:shine 1s infinite alternate;
}
@keyframes shine{
  from{box-shadow:0 0 6px #fff}
  to{box-shadow:0 0 16px #fff}
}
</style>
</head>

<body>

<div class="confetti" id="confetti"></div>

<main class="card">

<!-- PAGE 1 -->
<section id="page1" class="page active">
  <div class="layout">
    <div></div>
    <div>
      <h1>Hey!!! Dr. Penguin üêß</h1>
      <p>The most lovable penguin has a very very important question‚Ä¶</p>
      <div class="buttons">
        <button class="yes" id="askBtn">Okay, ask away üêß</button>
        <button class="no" id="declineBtn">Not interested</button>
      </div>
    </div>
  </div>
  <div class="scene">
    <img src="nihilist-penguin.gif" class="penguin tensed" alt="penguin">
  </div>
  <div id="sadScene" style="display:none"></div>
</section>

<!-- PAGE 2 -->
<section id="page2" class="page">
  <div class="layout">
    <div>
      <h1>Will you be my Valentine? üíò</h1>
      <p>(Warning: the "No" button is‚Ä¶ a little shy.)</p>
      <div class="buttons">
        <button class="yes" id="yesBtn">Yes!</button>
        <button class="no" id="noBtn">No</button>
      </div>
    </div>
    <div class="scene" id="scene2">
      <img src="nihilist-penguin.gif" class="penguin" id="malePenguin">
    </div>
  </div>
</section>

</main>

<script>
let heartMode='love',noScootEnabled=false;
const sadScene=document.getElementById('sadScene');

/* Hearts */
document.addEventListener('pointerdown',e=>{
  if(heartMode==='break'&&!sadScene.contains(e.target))return;
  const h=document.createElement('div');
  h.className='heart';
  h.textContent=heartMode==='break'?'üíî':'üíñ';
  h.style.setProperty('--x',e.clientX+'px');
  h.style.setProperty('--y',e.clientY+'px');
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),900);
});

/* Page switch */
const page1=document.getElementById('page1');
const page2=document.getElementById('page2');
document.getElementById('askBtn').onclick=()=>{
  page1.classList.remove('active');
  page2.classList.add('active');
  navigator.vibrate?.(30);
  setTimeout(()=>noScootEnabled=true,600);
};

/* Sad path */
document.getElementById('declineBtn').onclick=()=>{
  heartMode='break';
  navigator.vibrate?.(80);
  sadScene.style.display='block';
  sadScene.innerHTML='<p style="text-align:center;font-size:22px">oh‚Ä¶ okay üòî</p>';
  const img=document.createElement('img');
  img.src='nihilist-penguin.gif';
  sadScene.appendChild(img);

  const audio=new Audio('LifeofRam.mp3');
  audio.volume=0;audio.currentTime=96;
  audio.addEventListener('timeupdate',()=>{if(audio.currentTime>118)audio.pause();});

  const btn=document.createElement('button');
  btn.textContent='üéµ Play music';
  btn.className='yes';
  btn.onclick=()=>{
    audio.play();
    const fade=setInterval(()=>{audio.volume=Math.min(1,audio.volume+.05)},120);
    btn.disabled=true;
  };
  sadScene.appendChild(btn);
};

/* No scoot */
const noBtn=document.getElementById('noBtn');
noBtn.onmouseenter=()=>{
  if(!noScootEnabled)return;
  noBtn.style.position='absolute';
  noBtn.style.left=Math.random()*60+'%';
  noBtn.style.top=Math.random()*60+'%';
};

/* YES flow */
document.getElementById('yesBtn').onclick=()=>{
  navigator.vibrate?.([30,40,30]);
  launchConfetti();
  const penguin=document.getElementById('malePenguin');

  setTimeout(()=>{
    penguin.style.left='60px';
  },2000);

  setTimeout(()=>{
    const pebble=document.createElement('div');
    pebble.className='pebble';
    pebble.style.left='120px';
    pebble.style.bottom='40px';
    document.getElementById('scene2').appendChild(pebble);
  },2600);
};

function launchConfetti(){
  const c=document.getElementById('confetti');
  c.innerHTML='';
  for(let i=0;i<80;i++){
    const p=document.createElement('i');
    p.style.left=Math.random()*100+'vw';
    p.style.animationDelay=Math.random()*300+'ms';
    c.appendChild(p);
  }
  setTimeout(()=>c.innerHTML='',1600);
}
</script>

</body>
</html>
